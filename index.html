<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>PINE Tycoon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Основні стилі сайту -->
    <link rel="stylesheet" href="style.css">

    <!-- Додаткові стилі тільки для снігу -->
    <style>
      .snowflake {
        position: fixed;
        top: -10px;
       color: rgb(61, 196, 255);
        font-size: 14px;
        pointer-events: none;       /* щоб сніг не блокував кліки */
        z-index: 200;               /* нижче за кнопки Sign in / Sign up (там 1000) */
        animation-name: snow-fall;
        animation-timing-function: linear;
        animation-iteration-count: 1;
      }

      @keyframes snow-fall {
        0% {
          transform: translateY(-10vh);
        }
        100% {
          transform: translateY(110vh);
        }
      }
    </style>
  </head>

  <body class="has-sidebar">
    <header>
      <!-- Кнопки входу / реєстрації справа вгорі -->
      <div class="auth-buttons">
        <a href="login.html" class="signin">Sign in</a>
        <a href="signup.html" class="signup">Sign up</a>
      </div>
    </header>

    <!-- Бокове меню з анімацією зліва -->
    <nav class="side-nav">
      <a href="game.html" class="about">Грати!</a>
      <a href="#blog" class="blog">Блог</a>
    </nav>

    <main>
      <!-- Привітання -->
      <p class="welcome-text" id="welcomeText">Welcome Guest</p>

      <!-- Блок акаунта -->
      <div class="user-panel">
        <img 
          src="https://learn.logikaschool.com/uploads/student/4796102/692acc8996fdc.png" 
          alt="Аватар" 
          class="user-avatar"
        >
        <div>
          <div class="user-name-label">Акаунт:</div>
          <div class="user-name-value" id="userNameDisplay">Гість</div>
        </div>
      </div>

      <!-- Картинка гри -->
      <img 
        src="https://learn.logikaschool.com/uploads/student/4796102/6929d42d4c366.png" 
        alt="PINE Tycoon" 
        class="main-logo"
      />

      <p class="inf"></p>
      <p>
        Ласкаво просимо до затишного місця "PINE Tycoon". У цій грі вам потрібно
        рубати дрова та будувати своє власне затишне село!
      </p>
      <p>
        Ця версія гри не фінальна, тому може бути багато багів і гра може змінитися з часом.
      </p>

      <h1 id="blog">
        БЛОГ
      </h1>
      <p>
        Онолення Акаунтів! Тепер аи можете створити свій акаунт!
      </p>
    </main>

    <footer>
      © 2025 PINE Tycoon — бета-версія гри
    </footer>

    <!-- Скрипт: акаунт + аватар + Welcome -->
    <script>
      const DEFAULT_AVATAR = "https://learn.logikaschool.com/uploads/student/4796102/692acc8996fdc.png";
      const DAVYD_AVATAR = "https://learn.logikaschool.com/uploads/student/4796102/692acfc896c23.png";

      function getUsers() {
        const raw = localStorage.getItem("pineUsers");
        if (!raw) return {};
        try {
          const obj = JSON.parse(raw);
          return obj && typeof obj === "object" ? obj : {};
        } catch (e) {
          return {};
        }
      }

      const nameDisplay = document.getElementById("userNameDisplay");
      const welcomeText = document.getElementById("welcomeText");
      const avatarImg = document.querySelector(".user-avatar");

      const currentName = localStorage.getItem("pineUserName");
      const users = getUsers();

      let nameToShow = "Guest";
      if (currentName && users[currentName]) {
        nameToShow = currentName;
      }

      if (nameToShow === "Guest") {
        nameDisplay.textContent = "Гість";
        welcomeText.textContent = "Welcome Guest";
      } else {
        nameDisplay.textContent = nameToShow;
        welcomeText.textContent = "Welcome " + nameToShow;
      }

      if (nameToShow === "davyd3102") {
        avatarImg.src = DAVYD_AVATAR;
      } else {
        avatarImg.src = DEFAULT_AVATAR;
      }
    </script>

    <!-- Скрипт: снігопад -->
    <script>
      function createSnowflake() {
        const snowflake = document.createElement('div');
        snowflake.classList.add('snowflake');
        snowflake.textContent = '❄';

        // випадкова позиція по ширині
        snowflake.style.left = Math.random() * 100 + 'vw';
        // випадковий розмір
        snowflake.style.fontSize = (10 + Math.random() * 14) + 'px';
        // випадкова прозорість
        snowflake.style.opacity = (0.4 + Math.random() * 0.6).toString();
        // випадкова тривалість падіння
        snowflake.style.animationDuration = (5 + Math.random() * 5) + 's';

        document.body.appendChild(snowflake);

        // коли анімація закінчиться – видаляємо сніжинку
        snowflake.addEventListener('animationend', () => {
          snowflake.remove();
        });
      }

      // створюємо нову сніжинку кожні 200 мс
      setInterval(createSnowflake, 200);
    </script>
  </body>
</html>
