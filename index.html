<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>PINE Tycoon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css">
  </head>

  <body class="has-sidebar">
    <header>
      <!-- Кнопки входу / реєстрації справа вгорі -->
      <div class="auth-buttons">
        <a href="login.html" class="signin">Sign in</a>
        <a href="signup.html" class="signup">Sign up</a>
      </div>
    </header>

    <!-- Бокове меню з анімацією зліва -->
    <nav class="side-nav">
      <a href="game.html" class="about">Грати!</a>
      <a href="#blog" class="blog">Блог</a>
    </nav>

    <main>
      <!-- Привітання -->
      <p class="welcome-text" id="welcomeText">Welcome Guest</p>

      <!-- Блок акаунта -->
      <div class="user-panel">
        <img 
          src="https://learn.logikaschool.com/uploads/student/4796102/692acc8996fdc.png" 
          alt="Аватар" 
          class="user-avatar"
        >
        <div>
          <div class="user-name-label">Акаунт:</div>
          <div class="user-name-value" id="userNameDisplay">Гість</div>
        </div>
      </div>

      <!-- Картинка гри -->
      <img 
        src="https://learn.logikaschool.com/uploads/student/4796102/6929d42d4c366.png" 
        alt="PINE Tycoon" 
        class="main-logo"
      />

      <p class="inf"></p>
      <p>
        Ласкаво просимо до затишного місця "PINE Tycoon". У цій грі вам потрібно
        рубати дрова та будувати своє власне затишне село!
      </p>
      <p>
        Ця версія гри не фінальна, тому може бути багато багів і гра може змінитися з часом.
      </p>

      <h1 id="blog">
        БЛОГ
      </h1>
      <p>
      Оновлення акаунтів! Тепер ви можете створити свій власний акаунт.
      </p>
  
    </main>

    <footer>
      © 2025 PINE Tycoon — бета-версія гри
    </footer>

    <!-- Скрипт: акаунт + аватар + Welcome -->
    <script>
      const DEFAULT_AVATAR = "https://learn.logikaschool.com/uploads/student/4796102/692acc8996fdc.png";
      const DAVYD_AVATAR = "https://learn.logikaschool.com/uploads/student/4796102/692acfc896c23.png";

      function getUsers() {
        const raw = localStorage.getItem("pineUsers");
        if (!raw) return {};
        try {
          const obj = JSON.parse(raw);
          return obj && typeof obj === "object" ? obj : {};
        } catch (e) {
          return {};
        }
      }

      const nameDisplay = document.getElementById("userNameDisplay");
      const welcomeText = document.getElementById("welcomeText");
      const avatarImg = document.querySelector(".user-avatar");

      const currentName = localStorage.getItem("pineUserName");
      const users = getUsers();

      let nameToShow = "Guest";
      if (currentName && users[currentName]) {
        nameToShow = currentName;
      }

      if (nameToShow === "Guest") {
        nameDisplay.textContent = "Гість";
        welcomeText.textContent = "Welcome Guest";
      } else {
        nameDisplay.textContent = nameToShow;
        welcomeText.textContent = "Welcome " + nameToShow;
      }

      if (nameToShow === "davyd3102") {
        avatarImg.src = DAVYD_AVATAR;
      } else {
        avatarImg.src = DEFAULT_AVATAR;
      }
    </script>
  </body>
</html>
