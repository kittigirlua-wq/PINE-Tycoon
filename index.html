<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>PINE Tycoon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Якщо в тебе є свій style.css – залишай -->
    <link rel="stylesheet" href="style.css">

    <style>
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background: #f4f4f4;
        color: #333;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 20px;
        background: #ffffff;
        box-shadow: 0 2px 4px rgba(0,0,0,0.08);
      }

      .logo {
        font-weight: 700;
        font-size: 20px;
      }

      nav a {
        margin-right: 10px;
        text-decoration: none;
        color: #333;
      }

      .auth-buttons a,
      .auth-buttons button {
        margin-left: 8px;
        padding: 6px 12px;
        font-size: 14px;
        border-radius: 4px;
        border: 1px solid #333;
        background: #fff;
        color: #333;
        text-decoration: none;
        cursor: pointer;
      }

      .auth-buttons button {
        border: 1px solid #c00;
        color: #c00;
      }

      main {
        flex: 1;
        padding: 20px;
        max-width: 900px;
        margin: 0 auto;
      }

      .welcome-text {
        font-size: 18px;
        margin-bottom: 10px;
        font-weight: 600;
      }

      .user-panel {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 14px;
        border-radius: 10px;
        background: #ffffff;
        box-shadow: 0 2px 6px rgba(0,0,0,0.08);
        margin-bottom: 20px;
      }

      .user-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        object-fit: cover;
      }

      footer {
        text-align: center;
        padding: 10px;
        background: #383837;
        color: #fff;
      }
    </style>
  </head>

  <body>
    <header>
      <div class="logo">PINE Tycoon</div>

      <nav>
        <a href="game.html">Грати!</a>
        <a href="#blog">Блог</a>
      </nav>

      <div class="auth-buttons">
        <!-- Кнопки аутентифікації -->
        <a href="login.html" id="loginLink">Sign in</a>
        <a href="signup.html" id="signupLink">Sign up</a>
        <button id="logoutBtn" style="display:none;">Log out</button>
      </div>
    </header>

    <main>
      <!-- Привітання + акаунт -->
      <p class="welcome-text" id="welcomeText">Welcome Guest</p>

      <div class="user-panel">
        <img
          src="https://learn.logikaschool.com/uploads/student/4796102/692acc8996fdc.png"
          alt="Аватар"
          class="user-avatar"
        />
        <div>
          <div><strong>Акаунт:</strong></div>
          <div id="userNameDisplay">Гість</div>
        </div>
      </div>

      <!-- Основний текст -->
      <img
        src="https://learn.logikaschool.com/uploads/student/4796102/6929d42d4c366.png"
        alt="PINE Tycoon"
        style="max-width:60%;border-radius:20px;display:block;margin-bottom:20px;"
      />

      <p>
        Ласкаво просимо до затишного місця "PINE Tycoon". У цій грі вам потрібно
        рубати дрова та будувати своє власне затишне село!
      </p>
      <p>
        Ця версія гри не фінальна, тому може бути багато багів і гра може змінитися з часом.
      </p>

      <h1 id="blog">БЛОГ</h1>
      <p>Поки що тут пусто... але ми вже працюємо над новими оновленнями ❄</p>
    </main>

    <footer>
      © 2025 PINE Tycoon — бета-версія гри
    </footer>

    <!-- Firebase: підключення й відображення Welcome -->
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";
  ...
  const firebaseConfig = {
    apiKey: "...",
    authDomain: "pine-tycoon.firebaseapp.com",
    projectId: "pine-tycoon",
    storageBucket: "pine-tycoon.firebasestorage.app",
    messagingSenderId: "949986190236",
    appId: "1:949986190236:web:4f5d50078326f5c1981e59",
    measurementId: "G-2DY6KSY4G7"
  };

  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>


      const app  = initializeApp(firebaseConfig);
      const auth = getAuth(app);

      const welcomeText = document.getElementById('welcomeText');
      const userNameDisplay = document.getElementById('userNameDisplay');
      const avatarImg = document.querySelector('.user-avatar');

      const loginLink  = document.getElementById('loginLink');
      const signupLink = document.getElementById('signupLink');
      const logoutBtn  = document.getElementById('logoutBtn');

      const DEFAULT_AVATAR      = "https://learn.logikaschool.com/uploads/student/4796102/692acc8996fdc.png";
      const DAVYD3102_AVATAR    = "https://learn.logikaschool.com/uploads/student/4796102/692acfc896c23.png";
      const EXTRA_AVATAR        = "https://learn.logikaschool.com/uploads/student/4796102/692b12eb74937.png";
      const GRIVIELD_AVATAR     = "https://learn.logikaschool.com/uploads/student/4796102/692b1a155937b.png";

      function getAvatarForName(name) {
        const map = {
          "davyd3102": DAVYD3102_AVATAR,
          "3102": EXTRA_AVATAR,
          "Cool dave": EXTRA_AVATAR,
          "davyd": EXTRA_AVATAR,
          "Grivield": GRIVIELD_AVATAR
        };
        return map[name] || DEFAULT_AVATAR;
      }

      // Слухаємо зміну стану авторизації
      onAuthStateChanged(auth, (user) => {
        if (user && user.displayName) {
          const name = user.displayName;
          welcomeText.textContent   = "Welcome " + name;
          userNameDisplay.textContent = name;
          avatarImg.src = getAvatarForName(name);

          loginLink.style.display  = "none";
          signupLink.style.display = "none";
          logoutBtn.style.display  = "inline-block";
        } else {
          welcomeText.textContent   = "Welcome Guest";
          userNameDisplay.textContent = "Гість";
          avatarImg.src = DEFAULT_AVATAR;

          loginLink.style.display  = "inline-block";
          signupLink.style.display = "inline-block";
          logoutBtn.style.display  = "none";
        }
      });

      // Вихід
      logoutBtn.addEventListener('click', async () => {
        try {
          await signOut(auth);
        } catch (err) {
          console.error(err);
          alert("Не вдалося вийти: " + err.message);
        }
      });
    </script>
  </body>
</html>
