<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>PINE Tycoon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- –û—Å–Ω–æ–≤–Ω—ñ —Å—Ç–∏–ª—ñ —Å–∞–π—Ç—É -->
    <link rel="stylesheet" href="style.css">

    <!-- –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Å—Ç–∏–ª—ñ: —Å–Ω—ñ–≥ + –ø–æ—à—É–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ + –∞–Ω—ñ–º–∞—Ü—ñ—ó + –æ–Ω–æ–≤–ª–µ–Ω–Ω—è + –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è + —Ç–µ–º–Ω–∞ —Ç–µ–º–∞ -->
    <style>
      /* –°–Ω—ñ–≥–æ–≤–∏–π –µ—Ñ–µ–∫—Ç (—Å–∏–Ω—ñ —Å–Ω—ñ–∂–∏–Ω–∫–∏) */
      .snowflake {
        position: fixed;
        top: -10px;
        color: #66c7ff;              /* —Å–∏–Ω—ñ–π –∫–æ–ª—ñ—Ä —Å–Ω—ñ–∂–∏–Ω–æ–∫ */
        font-size: 14px;
        pointer-events: none;        /* —â–æ–± —Å–Ω—ñ–≥ –Ω–µ –±–ª–æ–∫—É–≤–∞–≤ –∫–ª—ñ–∫–∏ */
        z-index: 200;                /* –Ω–∏–∂—á–µ –∑–∞ –∫–Ω–æ–ø–∫–∏ Sign in / Sign up (—Ç–∞–º 1000) */
        animation-name: snow-fall;
        animation-timing-function: linear;
        animation-iteration-count: 1;
        text-shadow: 0 0 4px rgba(0, 0, 0, 0.35);
      }

      @keyframes snow-fall {
        0% {
          transform: translateY(-10vh);
        }
        100% {
          transform: translateY(110vh);
        }
      }

      /* –ü–æ—à—É–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ */
      .user-search {
        margin: 20px 0;
        max-width: 400px;
        animation: fade-in-up 0.8s ease-out;
      }

      .user-search h2 {
        margin: 0 0 8px 0;
        font-size: 20px;
        color: rgb(56, 56, 55);
      }

      .user-search form {
        display: flex;
        gap: 8px;
        margin-bottom: 10px;
      }

      .user-search input {
        flex: 1;
        padding: 6px 10px;
        font-size: 14px;
      }

      .user-search button {
        padding: 6px 12px;
        font-size: 14px;
        background-color: rgb(56, 56, 55);
        color: #fff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease;
      }

      .user-search button:hover {
        opacity: 0.9;
        transform: translateY(-1px);
        box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      }

      .user-search-result {
        font-size: 14px;
        background: #ffffff;
        border-radius: 8px;
        padding: 10px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        min-height: 24px;
        animation: fade-in 0.3s ease-out;
      }

      .user-search-result .profile-card {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .user-search-result img.profile-avatar {
        width: 48px;
        height: 48px;
        border-radius: 50%;
        object-fit: cover;
        animation: float-avatar 3s ease-in-out infinite;
      }

      .user-search-result .name {
        font-weight: 600;
        color: rgb(56, 56, 55);
      }

      .user-search-result .status {
        font-size: 13px;
      }

      .user-search-result .status.online {
        color: green;
      }

      .user-search-result .status.offline {
        color: #999;
      }

      .user-search-result .not-found {
        color: #555;
      }

      /* –ê–Ω—ñ–º–∞—Ü—ñ—ó –¥–ª—è –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è, –∞–∫–∞—É–Ω—Ç–∞ —ñ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≥—Ä–∏ */
      .welcome-text {
        animation: fade-in-down 0.6s ease-out;
      }

      .user-panel {
        animation: slide-in-left 0.6s ease-out;
      }

      .main-logo {
        animation: fade-in-up 0.8s ease-out;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .main-logo:hover {
        transform: scale(1.02);
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
      }

      /* –ë–ª–æ–∫ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —É –±–ª–æ–∑—ñ */
      .update-box {
        margin-top: 15px;
        padding: 12px 16px;
        max-width: 600px;
        background: #ffffff;
        border-radius: 10px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        border-left: 4px solid #66c7ff;
        animation: fade-in 0.7s ease-out;
      }

      .update-box h2 {
        margin-top: 0;
        margin-bottom: 6px;
        font-size: 22px;
        color: rgb(56, 56, 55);
      }

      .update-box .update-version {
        font-size: 13px;
        color: #777;
        margin-bottom: 8px;
      }

      .update-box ul {
        padding-left: 18px;
        margin: 8px 0;
      }

      .update-box li {
        margin-bottom: 4px;
        font-size: 14px;
      }

      /* –ö–Ω–æ–ø–∫–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å —É –ø—Ä–∞–≤–æ–º—É –Ω–∏–∂–Ω—å–æ–º—É –∫—É—Ç—ñ */
      .settings-button {
        position: fixed;
        right: 20px;
        bottom: 20px;
        width: 44px;
        height: 44px;
        border-radius: 50%;
        background-color: rgb(56, 56, 55);
        color: #ffffff;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        z-index: 950;
        font-size: 20px;
        transition: transform 0.15s ease, opacity 0.15s ease;
      }

      .settings-button:hover {
        opacity: 0.9;
        transform: translateY(-1px);
      }

      .settings-panel {
        position: fixed;
        right: 20px;
        bottom: 70px;
        background-color: #ffffff;
        color: #333333;
        padding: 10px 14px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        z-index: 940;
        font-size: 14px;
        display: none;
        min-width: 170px;
      }

      .settings-panel-title {
        font-weight: 600;
        margin-bottom: 6px;
      }

      .settings-panel button {
        margin-top: 4px;
        padding: 6px 10px;
        font-size: 13px;
        background-color: rgb(56, 56, 55);
        color: #ffffff;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
      }

      .settings-panel button:hover {
        opacity: 0.9;
      }

      /* –ö–ª—é—á–æ–≤—ñ –∫–∞–¥—Ä–∏ */
      @keyframes fade-in {
        from { opacity: 0; }
        to   { opacity: 1; }
      }

      @keyframes fade-in-up {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes fade-in-down {
        from {
          opacity: 0;
          transform: translateY(-10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes slide-in-left {
        from {
          opacity: 0;
          transform: translateX(-15px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      @keyframes float-avatar {
        0%   { transform: translateY(0); }
        50%  { transform: translateY(-3px); }
        100% { transform: translateY(0); }
      }

      /* ===== –¢–µ–º–Ω–∞ —Ç–µ–º–∞ ===== */
      body.dark-theme {
        background-color: rgb(69, 61, 61); /* —Ç–≤—ñ–π –∫–æ–ª—ñ—Ä */
        color: #ffffff;
      }

      body.dark-theme .welcome-text,
      body.dark-theme h1,
      body.dark-theme h2,
      body.dark-theme p,
      body.dark-theme .user-name-label,
      body.dark-theme .user-name-value {
        color: #ffffff;
      }

      body.dark-theme footer {
        background-color: rgb(48, 42, 42);
      }

      body.dark-theme .side-nav a {
        background-color: rgb(48, 42, 42);
      }

      body.dark-theme .auth-buttons a {
        background-color: rgb(48, 42, 42);
        color: #ffffff;
        border-color: #ffffff;
      }

      body.dark-theme .auth-buttons a.signup {
        background-color: transparent;
      }

      body.dark-theme .update-box,
      body.dark-theme .user-search-result {
        background-color: #4d4444;
        box-shadow: 0 2px 8px rgba(0,0,0,0.6);
      }

      body.dark-theme .update-box .update-version {
        color: #dddddd;
      }

      body.dark-theme .settings-panel {
        background-color: #4d4444;
        color: #ffffff;
      }

      body.dark-theme .settings-panel button {
        background-color: #383232;
      }
    </style>
  </head>

  <body class="has-sidebar">
    <header>
      <!-- –ö–Ω–æ–ø–∫–∏ –≤—Ö–æ–¥—É / —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Å–ø—Ä–∞–≤–∞ –≤–≥–æ—Ä—ñ -->
      <div class="auth-buttons">
        <a href="login.html" class="signin">Sign in</a>
        <a href="signup.html" class="signup">Sign up</a>
      </div>
    </header>

    <!-- –ë–æ–∫–æ–≤–µ –º–µ–Ω—é –∑ –∞–Ω—ñ–º–∞—Ü—ñ—î—é –∑–ª—ñ–≤–∞ -->
    <nav class="side-nav">
      <a href="game.html" class="about">–ì—Ä–∞—Ç–∏!</a>
      <a href="#blog" class="blog">–ë–ª–æ–≥</a>
    </nav>

    <main>
      <!-- –ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è -->
      <p class="welcome-text" id="welcomeText">Welcome Guest</p>

      <!-- –ë–ª–æ–∫ –∞–∫–∞—É–Ω—Ç–∞ -->
      <div class="user-panel">
        <img 
          src="https://learn.logikaschool.com/uploads/student/4796102/692acc8996fdc.png" 
          alt="–ê–≤–∞—Ç–∞—Ä" 
          class="user-avatar"
        >
        <div>
          <div class="user-name-label">–ê–∫–∞—É–Ω—Ç:</div>
          <div class="user-name-value" id="userNameDisplay">–ì—ñ—Å—Ç—å</div>
        </div>
      </div>

      <!-- –ü–æ—à—É–∫ —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ -->
      <section class="user-search">
        <h2>–ü–æ—à—É–∫ –≥—Ä–∞–≤—Ü—è</h2>
        <form id="userSearchForm">
          <input type="text" id="userSearchInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω—ñ–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞">
          <button type="submit">–ó–Ω–∞–π—Ç–∏</button>
        </form>
        <div id="userSearchResult" class="user-search-result"></div>
      </section>

      <!-- –ö–∞—Ä—Ç–∏–Ω–∫–∞ –≥—Ä–∏ -->
      <img 
        src="https://learn.logikaschool.com/uploads/student/4796102/6929d42d4c366.png" 
        alt="PINE Tycoon" 
        class="main-logo"
      />

      <p class="inf"></p>
      <p>
        –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ –∑–∞—Ç–∏—à–Ω–æ–≥–æ –º—ñ—Å—Ü—è "PINE Tycoon". –£ —Ü—ñ–π –≥—Ä—ñ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ
        —Ä—É–±–∞—Ç–∏ –¥—Ä–æ–≤–∞ —Ç–∞ –±—É–¥—É–≤–∞—Ç–∏ —Å–≤–æ—î –≤–ª–∞—Å–Ω–µ –∑–∞—Ç–∏—à–Ω–µ —Å–µ–ª–æ!
      </p>
      <p>
        –¶—è –≤–µ—Ä—Å—ñ—è –≥—Ä–∏ –Ω–µ —Ñ—ñ–Ω–∞–ª—å–Ω–∞, —Ç–æ–º—É –º–æ–∂–µ –±—É—Ç–∏ –±–∞–≥–∞—Ç–æ –±–∞–≥—ñ–≤ —ñ –≥—Ä–∞ –º–æ–∂–µ –∑–º—ñ–Ω–∏—Ç–∏—Å—è –∑ —á–∞—Å–æ–º.
      </p>

      <h1 id="blog">
        –ë–õ–û–ì
      </h1>
      <p>
        –ü–æ–∫–∏ —â–æ —Ç—É—Ç –ø—É—Å—Ç–æ... –∞–ª–µ –º–∏ –≤–∂–µ –ø—Ä–∞—Ü—é—î–º–æ –Ω–∞–¥ –Ω–æ–≤–∏–º–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º–∏ ‚ùÑ
      </p>

      <!-- –ë–ª–æ–∫ –ø—Ä–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑ —Å–∏—Å—Ç–µ–º–æ—é –∞–∫–∞—É–Ω—Ç—ñ–≤ -->
      <section class="update-box">
        <h2>–û–Ω–æ–≤–ª–µ–Ω–Ω—è: —Å–∏—Å—Ç–µ–º–∞ –∞–∫–∞—É–Ω—Ç—ñ–≤</h2>
        <div class="update-version">–í–µ—Ä—Å—ñ—è 0.2 ‚Äî –∑–∏–º–æ–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è PINE Tycoon</div>
        <p>
          –£ —Ü—ñ–π –≤–µ—Ä—Å—ñ—ó –≥—Ä–∏ –º–∏ –¥–æ–¥–∞–ª–∏ –±–∞–∑–æ–≤—É —Å–∏—Å—Ç–µ–º—É –∞–∫–∞—É–Ω—Ç—ñ–≤ –ø—Ä—è–º–æ –Ω–∞ —Å–∞–π—Ç—ñ:
        </p>
        <ul>
          <li>–ú–æ–∂–Ω–∞ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–≤—ñ–π –∞–∫–∞—É–Ω—Ç —á–µ—Ä–µ–∑ <strong>Sign up</strong> –∑ –Ω—ñ–∫–æ–º —Ç–∞ –ø–∞—Ä–æ–ª–µ–º.</li>
          <li>–£–≤—ñ–π—Ç–∏ –≤ –≥—Ä—É —á–µ—Ä–µ–∑ <strong>Sign in</strong> —ñ –ø–æ–±–∞—á–∏—Ç–∏ –ø—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è <strong>Welcome –Ü–º‚Äô—è</strong>.</li>
          <li>–î–ª—è –≥–æ—Å—Ç—è –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è —Å—Ç–∞—Ç—É—Å <strong>Welcome Guest</strong>.</li>
          <li>–ù—ñ–∫–Ω–µ–π–º–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä—ñ, —Ç–æ–º—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –Ω–µ –º–æ–∂—É—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–¥–Ω–∞–∫–æ–≤—ñ —ñ–º–µ–Ω–∞ –Ω–∞ —Ü—å–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó.</li>
          <li>–°–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –∞–≤–∞—Ç–∞—Ä –¥–ª—è –≤–ª–∞—Å–Ω–∏–∫–∞ –∞–∫–∞—É–Ω—Ç–∞ <strong>davyd3102</strong>.</li>
          <li>–î–æ–¥–∞–Ω–æ –æ—Å–æ–±–ª–∏–≤–∏–π –∞–≤–∞—Ç–∞—Ä –¥–ª—è –≥—Ä–∞–≤—Ü—ñ–≤ <strong>3102</strong>, <strong>Cool dave</strong> —Ç–∞ <strong>davyd</strong>.</li>
          <li>–Ñ –ø–æ—à—É–∫ –≥—Ä–∞–≤—Ü—ñ–≤: –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –Ω—ñ–∫ —ñ –ø–æ–±–∞—á–∏—Ç–∏, —á–∏ –≤—ñ–Ω –∑–∞—Ä–∞–∑ –æ–Ω–ª–∞–π–Ω —É —Ü—å–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ.</li>
        </ul>
        <p>
          –¶–µ —Ç—ñ–ª—å–∫–∏ –ø–µ—Ä—à–∏–π –∫—Ä–æ–∫ –¥–æ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –ø—Ä–æ—Ñ—ñ–ª—ñ–≤ PINE Tycoon üå≤
        </p>
      </section>
    </main>

    <footer>
      ¬© 2025 PINE Tycoon ‚Äî –±–µ—Ç–∞-–≤–µ—Ä—Å—ñ—è –≥—Ä–∏
    </footer>

    <!-- –ö–Ω–æ–ø–∫–∞ —ñ –ø–∞–Ω–µ–ª—å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å -->
    <div class="settings-button" id="settingsButton">‚öô</div>
    <div class="settings-panel" id="settingsPanel">
      <div class="settings-panel-title">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</div>
      <button id="themeToggleBtn">–¢–µ–º–∞: —Å–≤—ñ—Ç–ª–∞</button>
    </div>

    <!-- –°–∫—Ä–∏–ø—Ç: –∞–∫–∞—É–Ω—Ç–∏ + –∞–≤–∞—Ç–∞—Ä + Welcome + –ø–æ—à—É–∫ + —Ç–µ–º–∞ -->
    <script>
      const DEFAULT_AVATAR = "https://learn.logikaschool.com/uploads/student/4796102/692acc8996fdc.png";
      const DAVYD3102_AVATAR = "https://learn.logikaschool.com/uploads/student/4796102/692acfc896c23.png";
      const EXTRA_AVATAR = "https://learn.logikaschool.com/uploads/student/4796102/692b12eb74937.png";

      function getUsers() {
        const raw = localStorage.getItem("pineUsers");
        if (!raw) return {};
        try {
          const obj = JSON.parse(raw);
          return obj && typeof obj === "object" ? obj : {};
        } catch (e) {
          return {};
        }
      }

      // –í–∏–±—ñ—Ä –∞–≤–∞—Ç–∞—Ä–∞ –∑–∞ –Ω—ñ–∫–æ–º
      function getAvatarForName(name) {
        const map = {
          "davyd3102": DAVYD3102_AVATAR,
          "3102": EXTRA_AVATAR,
          "Cool dave": EXTRA_AVATAR,
          "davyd": EXTRA_AVATAR
        };
        return map[name] || DEFAULT_AVATAR;
      }

      const nameDisplay = document.getElementById("userNameDisplay");
      const welcomeText = document.getElementById("welcomeText");
      const avatarImg   = document.querySelector(".user-avatar");

      const currentName = localStorage.getItem("pineUserName");
      const users       = getUsers();

      let nameToShow = "Guest";
      if (currentName && users[currentName]) {
        nameToShow = currentName;
      }

      if (nameToShow === "Guest") {
        nameDisplay.textContent = "–ì—ñ—Å—Ç—å";
        welcomeText.textContent = "Welcome Guest";
      } else {
        nameDisplay.textContent = nameToShow;
        welcomeText.textContent = "Welcome " + nameToShow;
      }

      avatarImg.src = getAvatarForName(nameToShow);

      // ---- –ü–æ—à—É–∫ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ ----
      const searchForm   = document.getElementById("userSearchForm");
      const searchInput  = document.getElementById("userSearchInput");
      const searchResult = document.getElementById("userSearchResult");

      if (searchForm) {
        searchForm.addEventListener("submit", function (e) {
          e.preventDefault();
          const query = searchInput.value.trim();
          if (!query) {
            searchResult.innerHTML = '<p class="not-found">–í–≤–µ–¥—ñ—Ç—å –Ω—ñ–∫ –¥–ª—è –ø–æ—à—É–∫—É.</p>';
            return;
          }

          const user = users[query];
          if (!user) {
            searchResult.innerHTML = '<p class="not-found">–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —Ç–∞–∫–∏–º –Ω—ñ–∫–æ–º –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ (—É —Ü—å–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ).</p>';
            return;
          }

          const isOnline = (currentName === query);
          const avatarUrl = getAvatarForName(query);

          searchResult.innerHTML = `
            <div class="profile-card">
              <img src="${avatarUrl}" alt="–ê–≤–∞—Ç–∞—Ä ${query}" class="profile-avatar">
              <div>
                <div class="name">${query}</div>
                <div class="status ${isOnline ? 'online' : 'offline'}">
                  ${isOnline ? '–ó–∞—Ä–∞–∑ –æ–Ω–ª–∞–π–Ω' : '–ó–∞—Ä–∞–∑ –æ—Ñ–ª–∞–π–Ω (–Ω–µ –∞–∫—Ç–∏–≤–Ω–∏–π —É —Ü—å–æ–º—É –±—Ä–∞—É–∑–µ—Ä—ñ)'}
                </div>
              </div>
            </div>
          `;
        });
      }

      // ---- –¢–ï–ú–ê: —Å–≤—ñ—Ç–ª–∞ / —Ç–µ–º–Ω–∞ ----
      const THEME_KEY = "pineTheme";
      const settingsButton = document.getElementById("settingsButton");
      const settingsPanel = document.getElementById("settingsPanel");
      const themeToggleBtn = document.getElementById("themeToggleBtn");

      function applyTheme(theme) {
        if (theme === "dark") {
          document.body.classList.add("dark-theme");
        } else {
          document.body.classList.remove("dark-theme");
        }
      }

      function updateThemeButton(theme) {
        if (!themeToggleBtn) return;
        themeToggleBtn.textContent = theme === "dark" ? "–¢–µ–º–∞: —Ç–µ–º–Ω–∞" : "–¢–µ–º–∞: —Å–≤—ñ—Ç–ª–∞";
      }

      // –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
      const savedTheme = localStorage.getItem(THEME_KEY) || "light";
      applyTheme(savedTheme);
      updateThemeButton(savedTheme);

      // –ü–æ–∫–∞–∑ / —Å—Ö–æ–≤–∞—Ç–∏ –ø–∞–Ω–µ–ª—å
      if (settingsButton && settingsPanel) {
        settingsButton.addEventListener("click", () => {
          const isVisible = settingsPanel.style.display === "block";
          settingsPanel.style.display = isVisible ? "none" : "block";
        });
      }

      // –ü–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ç–µ–º–∏
      if (themeToggleBtn) {
        themeToggleBtn.addEventListener("click", () => {
          const isDark = document.body.classList.contains("dark-theme");
          const newTheme = isDark ? "light" : "dark";
          applyTheme(newTheme);
          updateThemeButton(newTheme);
          localStorage.setItem(THEME_KEY, newTheme);
        });
      }
    </script>

    <!-- –°–∫—Ä–∏–ø—Ç: —Å–Ω—ñ–≥–æ–ø–∞–¥ (—Å–∏–Ω—ñ —Å–Ω—ñ–∂–∏–Ω–∫–∏) -->
    <script>
      function createSnowflake() {
        const snowflake = document.createElement('div');
        snowflake.classList.add('snowflake');
        snowflake.textContent = '‚ùÑ';

        // –≤–∏–ø–∞–¥–∫–æ–≤–∞ –ø–æ–∑–∏—Ü—ñ—è –ø–æ —à–∏—Ä–∏–Ω—ñ
        snowflake.style.left = Math.random() * 100 + 'vw';
        // –≤–∏–ø–∞–¥–∫–æ–≤–∏–π —Ä–æ–∑–º—ñ—Ä
        snowflake.style.fontSize = (10 + Math.random() * 14) + 'px';
        // –≤–∏–ø–∞–¥–∫–æ–≤–∞ –ø—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å
        snowflake.style.opacity = (0.4 + Math.random() * 0.6).toString();
        // –≤–∏–ø–∞–¥–∫–æ–≤–∞ —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –ø–∞–¥—ñ–Ω–Ω—è
        snowflake.style.animationDuration = (5 + Math.random() * 5) + 's';

        document.body.appendChild(snowflake);

        // –∫–æ–ª–∏ –∞–Ω—ñ–º–∞—Ü—ñ—è –∑–∞–∫—ñ–Ω—á–∏—Ç—å—Å—è ‚Äì –≤–∏–¥–∞–ª—è—î–º–æ —Å–Ω—ñ–∂–∏–Ω–∫—É
        snowflake.addEventListener('animationend', () => {
          snowflake.remove();
        });
      }

      // —Å—Ç–≤–æ—Ä—é—î–º–æ –Ω–æ–≤—É —Å–Ω—ñ–∂–∏–Ω–∫—É –∫–æ–∂–Ω—ñ 200 –º—Å
      setInterval(createSnowflake, 200);
    </script>
  </body>
</html>
