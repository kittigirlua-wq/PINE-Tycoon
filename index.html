<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>PINE Tycoon ‚Äì –ì–æ–ª–æ–≤–Ω–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      --bg: #f4f4f4;
      --text: #222;
      --card-bg: #ffffff;
      --accent: #383837;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: var(--text);
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background: #383837;
      color: #fff;
    }

    .logo {
      font-weight: 700;
      letter-spacing: 1px;
    }

    nav {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    nav a {
      text-decoration: none;
      color: #fff;
      padding: 6px 12px;
      border-radius: 6px;
      background: rgba(255,255,255,0.08);
      transition: transform 0.15s, background 0.15s;
      font-size: 14px;
    }

    nav a:hover {
      background: rgba(255,255,255,0.2);
      transform: scale(1.03);
    }

    .auth-buttons button {
      border: none;
      padding: 6px 12px;
      border-radius: 6px;
      margin-left: 6px;
      cursor: pointer;
      font-size: 14px;
      background: #ffffff;
      color: #383837;
      transition: transform 0.15s, background 0.15s;
    }

    .auth-buttons button:hover {
      background: #f1f1f1;
      transform: scale(1.03);
    }

    main {
      max-width: 900px;
      margin: 30px auto;
      padding: 0 15px 30px;
    }

    .card {
      background: var(--card-bg);
      border-radius: 12px;
      padding: 16px 20px;
      margin-bottom: 16px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }

    .hero {
      display: flex;
      flex-direction: column;
      gap: 14px;
    }

    .hero img {
      max-width: 260px;
      border-radius: 12px;
      border: 3px solid #383837;
    }

    .hero-top {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      align-items: center;
    }

    .hero-text h1 {
      margin: 0 0 8px;
      font-size: 26px;
      color: #383837;
    }

    .hero-text p {
      margin: 4px 0;
    }

    .status-box {
      font-size: 14px;
      color: #555;
    }

    .blog-section h2 {
      margin-top: 0;
      margin-bottom: 8px;
    }

    .blog-section p {
      margin-top: 4px;
    }

    .auth-forms {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }

    form {
      flex: 1;
      min-width: 250px;
    }

    form h3 {
      margin-top: 0;
      margin-bottom: 8px;
    }

    label {
      display: block;
      font-size: 13px;
      margin-top: 6px;
    }

    input[type="text"],
    input[type="email"],
    input[type="password"] {
      width: 100%;
      box-sizing: border-box;
      margin-top: 2px;
      padding: 6px 8px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 14px;
    }

    form button[type="submit"] {
      margin-top: 10px;
      padding: 7px 12px;
      border-radius: 6px;
      border: none;
      background: #383837;
      color: #fff;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.15s, transform 0.15s;
    }

    form button[type="submit"]:hover {
      background: #222;
      transform: scale(1.02);
    }

    .small-text {
      font-size: 12px;
      color: #777;
      margin-top: 4px;
    }

    .hidden {
      display: none !important;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .avatar {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      background-size: cover;
      background-position: center;
      border: 2px solid #383837;
    }

    .user-name {
      font-weight: 600;
    }

    #logoutBtn {
      border-radius: 6px;
      border: none;
      padding: 6px 10px;
      cursor: pointer;
      background: #e74c3c;
      color: #fff;
      font-size: 13px;
    }

    #logoutBtn:hover {
      background: #c0392b;
    }

    /* Admin panel */

    #adminPanel {
      margin-top: 16px;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #e57373;
      background: #ffebee;
      font-size: 14px;
    }

    #adminPanel h3 {
      margin-top: 0;
      margin-bottom: 6px;
      color: #c62828;
    }

    #deleteUserInput {
      width: 100%;
      box-sizing: border-box;
      margin-top: 4px;
      padding: 6px 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    #deleteUserBtn {
      margin-top: 8px;
      padding: 6px 10px;
      border-radius: 6px;
      border: none;
      background: #e53935;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
    }

    #deleteUserBtn:hover {
      background: #c62828;
    }

    #deleteUserStatus {
      margin-top: 6px;
      font-size: 13px;
    }

    footer {
      text-align: center;
      padding: 12px 10px;
      background: #383837;
      color: #fff;
      font-size: 13px;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">PINE Tycoon</div>
    <nav>
      <a href="index.html">–ì–æ–ª–æ–≤–Ω–∞</a>
      <a href="game.html">–ì—Ä–∞—Ç–∏!</a>
      <a href="#blog">–ë–ª–æ–≥</a>

      <div class="auth-buttons" id="authButtons">
        <button id="showAuthBtn">Sign in / Sign up</button>
      </div>

      <div class="user-info hidden" id="userInfo">
        <div class="avatar" id="userAvatar"></div>
        <span class="user-name" id="userName"></span>
        <button id="logoutBtn">–í–∏–π—Ç–∏</button>
      </div>
    </nav>
  </header>

  <main>
    <!-- –ì–æ–ª–æ–≤–Ω–∏–π –±–ª–æ–∫ –ø—Ä–æ –≥—Ä—É -->
    <section class="card hero">
      <div class="hero-top">
        <img
          src="https://learn.logikaschool.com/uploads/student/4796102/6929d42d4c366.png"
          alt="PINE Tycoon –ª–æ–≥–æ"
        />
        <div class="hero-text">
          <h1>PINE Tycoon</h1>
          <p>
            –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ –∑–∏–º–æ–≤–æ–≥–æ —Ç–∞–π–∫—É–Ω–∞, –¥–µ –≤–∏ —Ä—É–±–∞—î—Ç–µ –¥–µ—Ä–µ–≤–∞, –±—É–¥—É—î—Ç–µ
            –¥–µ—Ä–µ–≤‚Äô—è–Ω–µ —Å–µ–ª–æ —Ç–∞ –Ω–∞–º–∞–≥–∞—î—Ç–µ—Å—å –Ω–µ –∑–∞–º–µ—Ä–∑–Ω—É—Ç–∏ –≤ –∑–∞–º–µ—Ç—ñ–ª—ñ üå®Ô∏è
          </p>
          <p class="status-box">
            –ü–æ—Ç–æ—á–Ω–∞ –≤–µ—Ä—Å—ñ—è: <b>1.0 ‚Äì –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–Ω–∞ –∞–ª—å—Ñ–∞</b><br />
            –î–æ–¥–∞–Ω–æ: —Å–∏—Å—Ç–µ–º—É –∞–∫–∞—É–Ω—Ç—ñ–≤, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é –≥—Ä–∞–≤—Ü—ñ–≤ —Ç–∞ –±–∞–∑–æ–≤–∏–π –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä.
          </p>
        </div>
      </div>
    </section>

    <!-- –ë–ª–æ–∫ –¥–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó / –≤—Ö–æ–¥—É -->
    <section class="card" id="authCard">
      <h2>–ê–∫–∞—É–Ω—Ç</h2>
      <p class="small-text">
        –°—Ç–≤–æ—Ä–∏ –∞–∫–∞—É–Ω—Ç, —â–æ–± –≥—Ä–∞—Ç–∏ –ø—ñ–¥ —Å–≤–æ—ó–º —ñ–º‚Äô—è–º —É –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä—ñ, –∞ —Ç–∞–∫–æ–∂ —É –º–∞–π–±—É—Ç–Ω—å–æ–º—É –∑–∞–ª–∏—à–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ, –¥–æ–¥–∞–≤–∞—Ç–∏ –¥—Ä—É–∑—ñ–≤ —Ç–æ—â–æ.
      </p>

      <div class="auth-forms">
        <!-- –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è -->
        <form id="signupForm">
          <h3>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h3>
          <label>
            –ù—ñ–∫–Ω–µ–π–º (–±—É–¥–µ –≤–∏–¥–Ω–æ —É –≥—Ä—ñ)
            <input type="text" id="signupName" required />
          </label>
          <label>
            Email
            <input type="email" id="signupEmail" required />
          </label>
          <label>
            –ü–∞—Ä–æ–ª—å
            <input type="password" id="signupPassword" required />
          </label>
          <button type="submit">–°—Ç–≤–æ—Ä–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç</button>
          <div class="small-text">
            –ü–æ—Ä–∞–¥–∞: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π —Å–≤—ñ–π —ñ—Å–Ω—É—é—á–∏–π –Ω—ñ–∫, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ <b>davyd3102</b>.
          </div>
          <div id="signupStatus" class="small-text"></div>
        </form>

        <!-- –í—Ö—ñ–¥ -->
        <form id="loginForm">
          <h3>–í—Ö—ñ–¥</h3>
          <label>
            Email
            <input type="email" id="loginEmail" required />
          </label>
          <label>
            –ü–∞—Ä–æ–ª—å
            <input type="password" id="loginPassword" required />
          </label>
          <button type="submit">–£–≤—ñ–π—Ç–∏</button>
          <div id="loginStatus" class="small-text"></div>
        </form>
      </div>
    </section>

    <!-- –ë–ª–æ–∫ –¥–ª—è –∑–∞–ª–æ–≥—ñ–Ω–µ–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ + –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å -->
    <section class="card hidden" id="loggedCard">
      <h2>–ü—Ä–∏–≤—ñ—Ç, <span id="welcomeName">–≥—Ä–∞–≤—Ü—é</span>!</h2>
      <p>
        –¢–∏ —É–≤—ñ–π—à–æ–≤ —É —Å–∏—Å—Ç–µ–º—É. –¢–µ–ø–µ—Ä, –∫–æ–ª–∏ —Ç–∏ –∑–∞–ø—É—Å–∫–∞—î—à –≥—Ä—É
        —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É <b>–ì—Ä–∞—Ç–∏!</b>, –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä –∑–º–æ–∂–µ —Ä–æ–∑–ø—ñ–∑–Ω–∞—Ç–∏ —Ç–≤–æ—î —ñ–º‚Äô—è.
      </p>

      <!-- –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –ª–∏—à–µ –¥–ª—è davyd3102 -->
      <div id="adminPanel" class="hidden">
        <h3>Admin –ø–∞–Ω–µ–ª—å (—Ç—ñ–ª—å–∫–∏ –¥–ª—è davyd3102)</h3>
        <p class="small-text">
          –¢—É—Ç —Ç–∏ –º–æ–∂–µ—à –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –∫–æ–ª–µ–∫—Ü—ñ—ó <b>users</b> —Ç–∞ <b>gamePlayers</b>.
          –¶–µ –Ω—ñ–±–∏ "–±–∞–Ω" ‚Äì –ø—Ä–æ—Ñ—ñ–ª—å –∑–Ω–∏–∫–Ω–µ –∑ —Å–∞–π—Ç—É —Ç–∞ –∑ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–∞.
        </p>

        <label>
          –Ü–º‚Äô—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –≤–∏–¥–∞–ª–µ–Ω–Ω—è:
          <input id="deleteUserInput" type="text" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: 3102" />
        </label>

        <button id="deleteUserBtn">–í–∏–¥–∞–ª–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</button>
        <div id="deleteUserStatus"></div>
      </div>
    </section>

    <!-- –ë–ª–æ–≥ -->
    <section class="card blog-section" id="blog">
      <h2>–ë–ª–æ–≥</h2>
      <p><i>–û—Å—Ç–∞–Ω–Ω—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:</i></p>
      <ul>
        <li>–î–æ–¥–∞–Ω–æ —Å–∏—Å—Ç–µ–º—É –∞–∫–∞—É–Ω—Ç—ñ–≤ –Ω–∞ Firebase.</li>
        <li>–ü—ñ–¥–∫–ª—é—á–µ–Ω–æ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä –º—ñ–∂ –≥—Ä–∞–≤—Ü—è–º–∏ (–ø–µ—Ä—à–∞ –∞–ª—å—Ñ–∞).</li>
        <li>–ü—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è <b>davyd3102</b> ‚ú®</li>
      </ul>
      <p>–ù–µ–∑–∞–±–∞—Ä–æ–º —Ç—É—Ç –∑‚Äô—è–≤–ª—è—Ç—å—Å—è –Ω–æ—Ç–∞—Ç–∫–∏ –ø—Ä–æ —Ä–æ–∑—Ä–æ–±–∫—É, –∑–º—ñ–Ω–∏ –±–∞–ª–∞–Ω—Å—É —Ç–∞ –Ω–æ–≤—ñ –±—É–¥—ñ–≤–ª—ñ.</p>
    </section>
  </main>

  <footer>
    ¬© 2025 PINE Tycoon ‚Äî –±–µ—Ç–∞-–≤–µ—Ä—Å—ñ—è –≥—Ä–∏ –∑ –º—É–ª—å—Ç–∏–ø–ª–µ—î—Ä–æ–º
  </footer>

  <!-- Firebase + –ª–æ–≥—ñ–∫–∞ –∞–∫–∞—É–Ω—Ç—ñ–≤ —ñ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";
    import {
      getAuth,
      onAuthStateChanged,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      signOut,
      updateProfile
    } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
    import {
      getFirestore,
      collection,
      doc,
      setDoc,
      getDocs,
      query,
      where,
      deleteDoc,
      serverTimestamp
    } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    // üîß –¢–í–û–Ø –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è (—Ç–∞ —Å–∞–º–∞, —â–æ –π —É –≥—Ä—ñ)
    const firebaseConfig = {
      apiKey: "AIzaSyDZEwAbFwLQXxlkkmuMKBFof2J3OE02Egs",
      authDomain: "pine-tycoon.firebaseapp.com",
      projectId: "pine-tycoon",
      storageBucket: "pine-tycoon.firebasestorage.app",
      messagingSenderId: "949986190236",
      appId: "1:949986190236:web:4f5d50078326f5c1981e59",
      measurementId: "G-2DY6KSY4G7"
    };

    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // DOM-–µ–ª–µ–º–µ–Ω—Ç–∏
    const authCard     = document.getElementById("authCard");
    const loggedCard   = document.getElementById("loggedCard");
    const welcomeName  = document.getElementById("welcomeName");

    const signupForm   = document.getElementById("signupForm");
    const signupName   = document.getElementById("signupName");
    const signupEmail  = document.getElementById("signupEmail");
    const signupPass   = document.getElementById("signupPassword");
    const signupStatus = document.getElementById("signupStatus");

    const loginForm    = document.getElementById("loginForm");
    const loginEmail   = document.getElementById("loginEmail");
    const loginPass    = document.getElementById("loginPassword");
    const loginStatus  = document.getElementById("loginStatus");

    const authButtons  = document.getElementById("authButtons");
    const showAuthBtn  = document.getElementById("showAuthBtn");
    const userInfo     = document.getElementById("userInfo");
    const userAvatar   = document.getElementById("userAvatar");
    const userNameEl   = document.getElementById("userName");
    const logoutBtn    = document.getElementById("logoutBtn");

    const adminPanel       = document.getElementById("adminPanel");
    const deleteUserInput  = document.getElementById("deleteUserInput");
    const deleteUserBtn    = document.getElementById("deleteUserBtn");
    const deleteUserStatus = document.getElementById("deleteUserStatus");

    // üîπ –ü–æ–∫–∞–∑–∞—Ç–∏/—Å—Ö–æ–≤–∞—Ç–∏ –±–ª–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó –ø–æ –∫–Ω–æ–ø—Ü—ñ –≤ —Ö–µ–¥–µ—Ä—ñ
    if (showAuthBtn) {
      showAuthBtn.addEventListener("click", () => {
        if (authCard.classList.contains("hidden")) {
          authCard.classList.remove("hidden");
        } else {
          authCard.classList.add("hidden");
        }
      });
    }

    // üîπ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
    if (signupForm) {
      signupForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        signupStatus.textContent = "";

        const name = signupName.value.trim();
        const email = signupEmail.value.trim();
        const pass = signupPass.value.trim();

        if (!name) {
          signupStatus.textContent = "–í–≤–µ–¥–∏ –Ω—ñ–∫–Ω–µ–π–º.";
          return;
        }

        try {
          // –°—Ç–≤–æ—Ä—é—î–º–æ –∞–∫–∞—É–Ω—Ç –≤ Auth
          const cred = await createUserWithEmailAndPassword(auth, email, pass);
          // –û–Ω–æ–≤–ª—é—î–º–æ displayName (–Ω—ñ–∫)
          await updateProfile(cred.user, { displayName: name });

          // –ó–∞–ø–∏—Å—É—î–º–æ —é–∑–µ—Ä–∞ –≤ Firestore —É –∫–æ–ª–µ–∫—Ü—ñ—é users
          const userRef = doc(db, "users", cred.user.uid);
          await setDoc(userRef, {
            name,
            email,
            createdAt: serverTimestamp()
          });

          signupStatus.textContent = "–ê–∫–∞—É–Ω—Ç —Å—Ç–≤–æ—Ä–µ–Ω–æ! –¢–∏ —É–≤—ñ–π—à–æ–≤ —è–∫ " + name;
          signupForm.reset();
        } catch (err) {
          console.error(err);
          signupStatus.textContent = "–ü–æ–º–∏–ª–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó: " + (err.code || err.message);
        }
      });
    }

    // üîπ –í—Ö—ñ–¥
    if (loginForm) {
      loginForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        loginStatus.textContent = "";

        const email = loginEmail.value.trim();
        const pass = loginPass.value.trim();

        try {
          await signInWithEmailAndPassword(auth, email, pass);
          loginStatus.textContent = "–£—Å–ø—ñ—à–Ω–∏–π –≤—Ö—ñ–¥!";
          loginForm.reset();
        } catch (err) {
          console.error(err);
          loginStatus.textContent = "–ü–æ–º–∏–ª–∫–∞ –≤—Ö–æ–¥—É: " + (err.code || err.message);
        }
      });
    }

    // üîπ –í–∏—Ö—ñ–¥
    if (logoutBtn) {
      logoutBtn.addEventListener("click", async () => {
        try {
          await signOut(auth);
        } catch (err) {
          console.error(err);
        }
      });
    }

    // üîπ onAuthStateChanged ‚Äî –æ–Ω–æ–≤–ª—é—î–º–æ UI + –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
    onAuthStateChanged(auth, (user) => {
      if (user) {
        const name = user.displayName || "–ì—Ä–∞–≤–µ—Ü—å";
        welcomeName.textContent = name;
        userNameEl.textContent  = name;

        // –ø—Ä–æ—Å—Ç–∏–π –∞–≤–∞—Ç–∞—Ä: –ø–µ—Ä—à–∞ –ª—ñ—Ç–µ—Ä–∞ –Ω—ñ–∫–∞
        const firstLetter = name.charAt(0).toUpperCase() || "P";
        userAvatar.style.backgroundImage =
          "url('https://dummyimage.com/100x100/383837/ffffff&text=" + encodeURIComponent(firstLetter) + "')";

        authButtons.classList.add("hidden");
        userInfo.classList.remove("hidden");
        authCard.classList.add("hidden");
        loggedCard.classList.remove("hidden");

        // –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –Ω—ñ–∫ ‚Äî —Å–∞–º–µ "davyd3102"
        if (name === "davyd3102") {
          adminPanel.classList.remove("hidden");
        } else {
          adminPanel.classList.add("hidden");
        }
      } else {
        authButtons.classList.remove("hidden");
        userInfo.classList.add("hidden");
        loggedCard.classList.add("hidden");
        // authCard –º–æ–∂–Ω–∞ –ª–∏—à–∏—Ç–∏ –≤–∏–¥–∏–º–∏–º –∞–±–æ —Å—Ö–æ–≤–∞—Ç–∏ ‚Äî –Ω–∞ —Ç–≤—ñ–π —Å–º–∞–∫
        // authCard.classList.remove("hidden");
      }
    });

    // üîπ –õ–æ–≥—ñ–∫–∞ admin-panel: –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
    if (deleteUserBtn) {
      deleteUserBtn.addEventListener("click", async () => {
        const name = deleteUserInput.value.trim();
        deleteUserStatus.textContent = "";

        if (!name) {
          deleteUserStatus.textContent = "–í–≤–µ–¥–∏ —ñ–º'—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.";
          return;
        }

        deleteUserStatus.textContent = "–®—É–∫–∞—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ '" + name + "'...";

        try {
          // 1) —à—É–∫–∞—î–º–æ —é–∑–µ—Ä–∞ –≤ –∫–æ–ª–µ–∫—Ü—ñ—ó users –ø–æ –ø–æ–ª—é "name"
          const usersRef = collection(db, "users");
          const q = query(usersRef, where("name", "==", name));
          const snap = await getDocs(q);

          if (snap.empty) {
            deleteUserStatus.textContent = "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —Ç–∞–∫–∏–º —ñ–º'—è–º –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.";
            return;
          }

          let deletedCount = 0;

          for (const userDoc of snap.docs) {
            const uid = userDoc.id;

            // 2) –≤–∏–¥–∞–ª—è—î–º–æ –ø—Ä–æ—Ñ—ñ–ª—å –∑ users
            await deleteDoc(userDoc.ref);

            // 3) –≤–∏–¥–∞–ª—è—î–º–æ –π–æ–≥–æ —Å—Ç–∞–Ω —É –≥—Ä—ñ (—è–∫—â–æ —î)
            const gpRef = doc(db, "gamePlayers", uid);
            await deleteDoc(gpRef).catch(() => {});

            deletedCount++;
          }

          deleteUserStatus.textContent =
            "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞(—ñ–≤) '" + name + "' –≤–∏–¥–∞–ª–µ–Ω–æ: " + deletedCount + ".";
          deleteUserInput.value = "";
        } catch (err) {
          console.error(err);
          deleteUserStatus.textContent = "–°—Ç–∞–ª–∞—Å—è –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ.";
        }
      });
    }
  </script>
</body>
</html>
